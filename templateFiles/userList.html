{% extends "_headerWithLogin.html" %}

{% block content %}

<div class="container">
    
    <h5 class="display-5">List of Users</h5>
    <br>
    {% for e in errors['queryError'] %}
        <div class="alert alert-danger" role="alert">
            <p>Error: {{e}}</p>
        </div>
    {% endfor %}
    <table class="table table-hover">
        <thead>
            <tr>
                <th>Email</th>
                <th>IsAdmin?</th>
                <th>Admin</th>
            </tr>
        </thead>
        <tbody>
            {% for user in userList %}
            <tr>
                <td>{{user.email}}</td>
                {% if user.isadmin == 1 %}
                <td>True</td>
                {% else %}
                <td>False</td>
                {% endif %}
                {% if user.email == session['email'] %}
                <td></td>
                {% else %}
                <td><a class="btn btn-sm btn-outline-danger" href="./deleteUser/{{user.id}}" onclick="return confirm('Are you sure you would like to delete the user {{ user.email }}?');">Delete</a></td>
                {% endif %}
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

{% endblock %}